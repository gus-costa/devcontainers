{
  "id": "proxy",
  "version": "1.0.0",
  "name": "Proxy",
  "description": "Routes all HTTP/HTTPS traffic through Squid proxy and initializes firewall at container start.",
  "documentationURL": "https://github.com/gus-costa/devcontainers/tree/main/features/proxy",
  "options": {
    "proxyHost": {
      "type": "string",
      "default": "squid",
      "description": "Hostname or IP address of the proxy server"
    },
    "proxyPort": {
      "type": "string",
      "default": "3128",
      "description": "Port number of the proxy server"
    },
    "noProxy": {
      "type": "string",
      "default": "localhost,127.0.0.1",
      "description": "Comma-separated list of domains that should bypass the proxy"
    }
  },
  "dependsOn": {
    "ghcr.io/gus-costa/devcontainers/features/firewall:1": {}
  },
  "postStartCommand": "sudo -E /usr/local/bin/init-firewall.sh"
}