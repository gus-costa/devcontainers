{
  "id": "proxy",
  "version": "1.0.0",
  "name": "Proxy",
  "description": "",
  "documentationURL": "https://github.com/gus-costa/devcontainers/tree/main/features/proxy",
  "options": {},
  "containerEnv": {
    "HTTP_PROXY": "http://squid:3128",
    "http_proxy": "http://squid:3128",
    "HTTPS_PROXY": "http://squid:3128",
    "https_proxy": "http://squid:3128",
    "NO_PROXY": "localhost,127.0.0.1",
    "no_proxy": "localhost,127.0.0.1"
  },
  "dependsOn": {
    "localhost:5000/firewall/firewall": {}
  },

  // Initialize firewall after container starts
  // See: specs/base-template.md#firewall-script
  "postStartCommand": "sudo -E /usr/local/bin/init-firewall.sh"
}