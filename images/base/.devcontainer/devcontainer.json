{
  // Base Devcontainer Configuration
  // See: specs/base-template.md#devcontainerjson

  "name": "Base Development Container",
  "build": {
    "dockerfile": "Dockerfile",
    "args": {
      "TZ": "${localEnv:TZ:UTC}"
    }
  },

  "mounts": [
    "source=devcontainer-bashhistory-${devcontainerId},target=/home/dev/.local/share/history,type=volume"
  ],

  // Run as non-root user
  // See: specs/base-template.md#user-configuration
  "remoteUser": "dev",

  // Wait for firewall initialization before opening terminal
  // Ensures network isolation is active before any user commands
  "waitFor": "postStartCommand",

  // VS Code customizations
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.defaultProfile.linux": "zsh",
        "terminal.integrated.profiles.linux": {
          "bash": {
            "path": "bash",
            "icon": "terminal-bash"
          },
          "zsh": {
            "path": "zsh"
          }
        }
      }
    }
  }
}
