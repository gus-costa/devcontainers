{
  // Test project for Node.js Feature
  // See: specs/testing.md
  //
  // Test scenarios:
  //   - Node.js installs at specified version
  //   - npm works through proxy

  "name": "Test: Node.js Feature",

  // Use local Docker Compose configuration
  "dockerComposeFile": "docker-compose.yml",
  "service": "devcontainer",
  "workspaceFolder": "/workspace",

  // Apply Node.js feature from local path
  // See: specs/feature-node.md
  "features": {
    "../../../features/node": {
      "version": "22"
    }
  },

  // Run as non-root user
  // See: specs/base-template.md#user-configuration
  "remoteUser": "dev",

  // Initialize firewall after container starts
  // See: specs/base-template.md#firewall-script
  "postStartCommand": "sudo /home/dev/.devcontainer/init-firewall.sh",

  // Wait for firewall initialization before opening terminal
  "waitFor": "postStartCommand",

  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.defaultProfile.linux": "zsh"
      }
    }
  }
}
